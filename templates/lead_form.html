{% extends "base.html" %}

{% block title %}{% if lead %}Edit Lead{% else %}New Lead{% endif %} - Simple CRM{% endblock %}

{% block content %}
<div class="d-flex justify-content-between align-items-center mb-4">
    <h1>
        <i class="fas fa-user-plus me-2"></i>
        {% if lead %}Edit Lead{% else %}New Lead{% endif %}
    </h1>
    <a href="{{ url_for('leads') }}" class="btn btn-outline-secondary">
        <i class="fas fa-arrow-left me-1"></i>Back to Leads
    </a>
</div>

<div class="card">
    <div class="card-header">
        <h5 class="mb-0">
            {% if lead %}Edit Lead Information{% else %}Add New Lead{% endif %}
        </h5>
    </div>
    <div class="card-body">
        <form method="POST">
            <div class="row">
                <div class="col-md-6 mb-3">
                    <label for="first_name" class="form-label">First Name *</label>
                    <input type="text" class="form-control" id="first_name" name="first_name" 
                           value="{{ lead.first_name if lead else '' }}" required>
                </div>
                <div class="col-md-6 mb-3">
                    <label for="last_name" class="form-label">Last Name *</label>
                    <input type="text" class="form-control" id="last_name" name="last_name" 
                           value="{{ lead.last_name if lead else '' }}" required>
                </div>
            </div>
            
            <div class="row">
                <div class="col-md-6 mb-3">
                    <label for="email" class="form-label">Email</label>
                    <input type="email" class="form-control" id="email" name="email" 
                           value="{{ lead.email if lead else '' }}">
                </div>
                <div class="col-md-6 mb-3">
                    <label for="phone" class="form-label">Phone</label>
                    <input type="tel" class="form-control" id="phone" name="phone" 
                           value="{{ lead.phone if lead else '' }}">
                </div>
            </div>
            
            <div class="row">
                <div class="col-md-6 mb-3">
                    <label for="company" class="form-label">Company</label>
                    <input type="text" class="form-control" id="company" name="company" 
                           value="{{ lead.company if lead else '' }}">
                </div>
                <div class="col-md-6 mb-3">
                    <label for="status" class="form-label">Status</label>
                    <select class="form-control" id="status" name="status">
                        <option value="New" {% if lead and lead.status == 'New' %}selected{% endif %}>New</option>
                        <option value="Contacted" {% if lead and lead.status == 'Contacted' %}selected{% endif %}>Contacted</option>
                        <option value="Qualified" {% if lead and lead.status == 'Qualified' %}selected{% endif %}>Qualified</option>
                        <option value="Unqualified" {% if lead and lead.status == 'Unqualified' %}selected{% endif %}>Unqualified</option>
                        <option value="Converted" {% if lead and lead.status == 'Converted' %}selected{% endif %}>Converted</option>
                    </select>
                </div>
            </div>
            
            <div class="row">
                <div class="col-md-6 mb-3">
                    <label for="source" class="form-label">Source</label>
                    <select class="form-control" id="source" name="source">
                        <option value="">Select Source</option>
                        <option value="Website" {% if lead and lead.source == 'Website' %}selected{% endif %}>Website</option>
                        <option value="Referral" {% if lead and lead.source == 'Referral' %}selected{% endif %}>Referral</option>
                        <option value="Social Media" {% if lead and lead.source == 'Social Media' %}selected{% endif %}>Social Media</option>
                        <option value="Email Campaign" {% if lead and lead.source == 'Email Campaign' %}selected{% endif %}>Email Campaign</option>
                        <option value="Trade Show" {% if lead and lead.source == 'Trade Show' %}selected{% endif %}>Trade Show</option>
                        <option value="Cold Call" {% if lead and lead.source == 'Cold Call' %}selected{% endif %}>Cold Call</option>
                        <option value="Other" {% if lead and lead.source == 'Other' %}selected{% endif %}>Other</option>
                    </select>
                </div>
            </div>
            
            <div class="mb-3">
                <label for="notes" class="form-label">Notes</label>
                <textarea class="form-control" id="notes" name="notes" rows="4">{{ lead.notes if lead else '' }}</textarea>
            </div>
            
            <div class="d-flex justify-content-end">
                <a href="{{ url_for('leads') }}" class="btn btn-outline-secondary me-2">Cancel</a>
                <button type="submit" class="btn btn-primary">
                    <i class="fas fa-save me-1"></i>
                    {% if lead %}Update Lead{% else %}Create Lead{% endif %}
                </button>
            </div>
        </form>
    </div>
</div>
{% endblock %} 